#                                               -*- Autoconf -*-
# Process this file with autoconf to produce a configure script.

AC_PREREQ(2.61)
AC_INIT(ViewpointCursor, [0.0.1], michael@20papercups.net)

m4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])])

# Define where autogenerated build files such as 'missing'
# should be located. This is also the location of any additional
# m4 macros that are required
AC_CONFIG_AUX_DIR([cfg])

AM_INIT_AUTOMAKE([subdir-objects])
AC_CONFIG_SRCDIR([src/])
AC_CONFIG_HEADER([src/config.h])

AC_CONFIG_MACRO_DIR([cfg])
LT_INIT()

#
# Enable maintainer mode
#
AM_MAINTAINER_MODE

AC_PROG_LIBTOOL

AC_CONFIG_FILES([Makefile
		 src/Makefile
		 libviewpointcursor.pc
		])
	

# tell autoconf that we are using CPP libraries
AC_LANG_PUSH([C++])

##############################################################################
#
# SETUP OPTIONS
#
##############################################################################


# Checks for programs.
AC_PROG_CXX

#
# Test for Package Config
# We need this for a lot of packages
#
AC_PATH_PROG(PKG_CONFIG, pkg-config)
if test "x$PKG_CONFIG" = "x"; then
	AC_MSG_ERROR([You need to install pkg-config])
fi

AC_MSG_CHECKING([for pkg-config library dir])
PKGCONFIG_LIBDIR="`echo $PKG_CONFIG | $SED -e 's~/bin/pkg-config$~~'`/lib/pkgconfig"
AC_MSG_RESULT($PKGCONFIG_LIBDIR)


AC_LANG_POP([C++])

AC_SUBST(PKGCONFIG_OTHERLIBS)
AC_SUBST(PKGCONFIG_OTHERINCLUDES)
AC_SUBST(PKGCONFIG_LIBDIR)

AC_OUTPUT
